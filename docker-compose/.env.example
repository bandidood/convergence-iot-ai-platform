# ============================================================================
# VARIABLES D'ENVIRONNEMENT - Station Traffeyère IoT/AI Platform
# Copier ce fichier vers .env et remplir les valeurs
# ============================================================================

# ======================
# CONFIGURATION GÉNÉRALE
# ======================
PROJECT_NAME="Station Traffeyère IoT/AI Platform"
RNCP_CODE="39394"
ENVIRONMENT=production

# Station Configuration
STATION_ID=TRAFFEYERE_001
STATION_NAME="Station Traffeyère"
STATION_LOCATION="Strasbourg, France"
STATION_COORDINATES="48.5734,7.7521"

# ======================
# INFRASTRUCTURE LAYER
# ======================

# PostgreSQL + TimescaleDB
POSTGRES_DB=station_traffeyere
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGEME_POSTGRES_PASSWORD

# Redis Cache
REDIS_PASSWORD=CHANGEME_REDIS_PASSWORD

# InfluxDB v2
INFLUX_USERNAME=admin
INFLUX_PASSWORD=CHANGEME_INFLUX_PASSWORD
INFLUX_ORG=traffeyere
INFLUX_BUCKET=iot_sensors
INFLUX_ADMIN_TOKEN=CHANGEME_INFLUX_TOKEN_64_CHARS

# MinIO S3 Storage
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=CHANGEME_MINIO_PASSWORD
MINIO_REGION=eu-west-1
MINIO_BUCKET=station-data

# MQTT Mosquitto
MQTT_USERNAME=iot_station
MQTT_PASSWORD=CHANGEME_MQTT_PASSWORD
MQTT_SOC_USERNAME=soc_monitor
MQTT_SOC_PASSWORD=CHANGEME_MQTT_SOC_PASSWORD
MQTT_SECURE_USERNAME=secure_station
MQTT_SECURE_PASSWORD=CHANGEME_MQTT_SECURE_PASSWORD

# ======================
# APPLICATION LAYER
# ======================

# Sécurité Application
SECRET_KEY=CHANGEME_SECRET_KEY_32_CHARACTERS_MIN
JWT_SECRET=CHANGEME_JWT_SECRET_KEY_32_CHARS
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# API Keys
BACKEND_API_KEY=CHANGEME_BACKEND_API_KEY

# Configuration IA
ANOMALY_THRESHOLD=0.85
AI_INFERENCE_TIMEOUT=280
AI_BATCH_SIZE=32
AI_WORKER_THREADS=4
AI_MAX_QUEUE_SIZE=1000

# SHAP XAI Configuration
SHAP_ENABLED=true
SHAP_EXPLAINER_TYPE=TreeExplainer
XAI_CACHE_SIZE=1000
XAI_EXPLANATION_TIMEOUT=30

# Voice Assistant
VOICE_ASSISTANT_ENABLED=true
TTS_ENABLED=true
STT_ENABLED=true

# ======================
# IOT LAYER
# ======================

# Configuration Capteurs
SENSOR_COUNT=127
SENSOR_INTERVAL=5
SENSOR_BATCH_SIZE=10

# Simulation Anomalies
ANOMALY_INJECTION_ENABLED=true
ANOMALY_RATE=0.05
ANOMALY_SEVERITY=medium

# Configuration MQTT IoT
MQTT_CLIENT_ID=iot_generator_primary
MQTT_QOS=1
MQTT_RETAIN=false
MQTT_TOPIC_PREFIX=traffeyere/station
MQTT_TOPIC_SENSORS=sensors
MQTT_TOPIC_ALERTS=alerts
MQTT_TOPIC_STATUS=status

# Configuration Données
DATA_FORMAT=json
TIMESTAMP_FORMAT=iso8601
INCLUDE_METADATA=true

# Types de capteurs
SENSOR_TYPES=temperature,humidity,pressure,ph,turbidity,conductivity,dissolved_oxygen,flow_rate,level,chlorine,nitrates,ammonia

# Plages de valeurs
TEMP_MIN=5.0
TEMP_MAX=35.0
HUMIDITY_MIN=30.0
HUMIDITY_MAX=95.0
PH_MIN=6.5
PH_MAX=8.5
PRESSURE_MIN=980.0
PRESSURE_MAX=1050.0

# Configuration Sécurisée
SECURITY_MODE=high
ENCRYPTION_ENABLED=true
TLS_ENABLED=true
PAYLOAD_ENCRYPTION=AES256
KEY_ROTATION_INTERVAL=3600

# Legacy Systems
LEGACY_PROTOCOL=modbus
LEGACY_PORT=502
LEGACY_BAUDRATE=9600
GATEWAY_MODE=bridge
MQTT_BRIDGE_ENABLED=true
LEGACY_DATA_FORMAT=binary
CONVERSION_ENABLED=true
LEGACY_POLLING_INTERVAL=10
LEGACY_BATCH_SIZE=50

# ======================
# MONITORING LAYER
# ======================

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGEME_GRAFANA_PASSWORD
GRAFANA_DB_NAME=grafana

# Alerting
SMTP_SMARTHOST=smtp.gmail.com:587
SMTP_FROM=alerts@traffeyere.com
SMTP_USERNAME=CHANGEME_SMTP_USERNAME
SMTP_PASSWORD=CHANGEME_SMTP_PASSWORD

# Slack Webhooks
SLACK_WEBHOOK_CRITICAL=https://hooks.slack.com/services/CHANGEME/CRITICAL
SLACK_WEBHOOK_WARNING=https://hooks.slack.com/services/CHANGEME/WARNING
SLACK_WEBHOOK_INFO=https://hooks.slack.com/services/CHANGEME/INFO
SLACK_WEBHOOK_SECURITY=https://hooks.slack.com/services/CHANGEME/SECURITY

# Microsoft Teams
TEAMS_WEBHOOK_SECURITY=https://outlook.office.com/webhook/CHANGEME

# PagerDuty
PAGERDUTY_ROUTING_KEY=CHANGEME_PAGERDUTY_KEY

# ======================
# SECURITY LAYER
# ======================

# Elasticsearch
ELASTIC_PASSWORD=CHANGEME_ELASTIC_PASSWORD

# Kibana
KIBANA_ENCRYPTION_KEY=CHANGEME_KIBANA_ENCRYPTION_KEY_32_CHARS

# HashiCorp Vault
VAULT_ROOT_TOKEN=CHANGEME_VAULT_ROOT_TOKEN

# Wazuh
WAZUH_ADMIN_USER=admin
WAZUH_ADMIN_PASSWORD=CHANGEME_WAZUH_PASSWORD

# SOC Configuration
SOC_MODE=production
THREAT_INTEL_ENABLED=true
INCIDENT_RESPONSE_ENABLED=true
SOC_CACHE_TTL=300
THREAT_INTEL_FEEDS=abuse.ch,malware_domain_list,phishtank
THREAT_INTEL_UPDATE_INTERVAL=3600
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alerts

# SOAR Configuration
SOAR_ENABLED=true
FORENSICS_ENABLED=true
COMPLIANCE_FRAMEWORKS=RGPD,ISO27001,ANSSI
AUDIT_LOGGING=true
SOC_WORKER_THREADS=4
MAX_CONCURRENT_INCIDENTS=100

# ======================
# BLOCKCHAIN LAYER
# ======================

# Hyperledger Fabric
HLF_NETWORK_NAME=traffeyere-network
HLF_CHANNEL_NAME=datachannel
HLF_CHAINCODE_NAME=waterquality
BLOCKCHAIN_TX_TIMEOUT=30
BLOCKCHAIN_QUERY_TIMEOUT=10

# ======================
# CONFIGURATION AVANCÉE
# ======================

# Performance IoT
IOT_WORKER_THREADS=4
BATCH_PROCESSING=true
ASYNC_PUBLISHING=true
REALISTIC_NOISE=true
WEATHER_CORRELATION=true
SEASONAL_VARIATION=true

# Cache Configuration
CACHE_TTL=300

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
API_DEBUG=false

# Test Configuration
TEST_MODE=unit
TEST_DURATION=300
TEST_SENSORS=10
RAPID_TESTING=true
TEST_SCENARIOS=normal,anomaly,offline,reconnect
JUNIT_OUTPUT=true

# ======================
# URLS ET DOMAINES
# ======================

# URLs pour développement local
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000/ws
VITE_GRAFANA_URL=http://localhost:3000
VITE_XAI_URL=http://localhost:8092
VITE_MQTT_WS_URL=ws://localhost:8083/mqtt

# URLs pour production (à adapter)
# VITE_API_URL=https://api.traffeyere.com
# VITE_WS_URL=wss://api.traffeyere.com/ws
# VITE_GRAFANA_URL=https://grafana.traffeyere.com
# VITE_XAI_URL=https://xai.traffeyere.com

# ======================
# CONFIGURATION DEVICES
# ======================

# Device Types
DEVICE_TYPE=secure_sensor_array
FIRMWARE_VERSION=1.2.3

# Certificats (chemins dans containers)
DEVICE_CERTIFICATE_PATH=/app/certs/device.crt
DEVICE_KEY_PATH=/app/certs/device.key
CA_CERTIFICATE_PATH=/app/certs/ca.crt